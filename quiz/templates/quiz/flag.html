{% load static %}
<html>
  <head>
    <link rel="stylesheet" href="{% static 'css/fifa.css' %}">
    <meta charset="UTF-8">
    <title>国旗クイズ</title>
  </head>

  <body>
    <h1>国旗クイズ</h1>
    <a href="../quiz" class="square_btn">他のクイズ</a>
    <hr>
    <h2>レベル選択</h2>
    <span type="button" onClick="document.all.item('moji1').style.visibility='visible';q=qa;setReady(q)"><a href="#" class="square_btn">初級</a></span>
    <span type="button" onClick="document.all.item('moji1').style.visibility='visible';q=qb;setReady(q)"><a href="#" class="square_btn">中級</a></span>

    <div ID="moji1" style="visibility:hidden">
      <h2>問題</h2>
      <div id="text_q_num"></div>
      <strong><font size="5"><div id="text_q"></div></font></strong>
      <div id="image"></div>
      <h2>選択</h2>
      <div id="text_s">【<a href="javascript:anser(1)"></a>】【<a href="javascript:anser(2)"></a>】【<a href="javascript:anser(3)"></a>】</div>
      <h2>解答</h2>
      <div id="text_a"></div>
    </div>

    <script type="text/javascript">
      qa = new Array();
      qa[0] = ["この国旗は？","ドイツ","スペイン","フランス",1,1,"https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Germany.svg"];
      qa[1] = ["この国旗は？","北朝鮮","韓国","中国",3,1,"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg"];
      qa[2] = ["この国旗は？","ブラジル","アルゼンチン","イタリア",2,1,"https://upload.wikimedia.org/wikipedia/commons/1/1a/Flag_of_Argentina.svg"];
      qa[3] = ["この国旗は？","アメリカ","イギリス","カナダ",2,1,"https://upload.wikimedia.org/wikipedia/commons/a/ae/Flag_of_the_United_Kingdom.svg"];
      qa[4] = ["この国旗は？","ロシア","カタール","ポルトガル",1,1,"https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg"];
      qa[5] = ["この国旗は？","チェコ","ウクライナ","クロアチア",2,1,"http://www.abysse.co.jp/world/flag/nis/flagimages/ua250.jpg"];
      qa[6] = ["この国旗は？","トルコ","エジプト","インド",1,1,"https://upload.wikimedia.org/wikipedia/commons/b/b4/Flag_of_Turkey.svg"];
      qa[7] = ["この国旗は？","ベルギー","オランダ","タイ",3,1,"https://upload.wikimedia.org/wikipedia/commons/a/a9/Flag_of_Thailand.svg"];
      qa[8] = ["この国旗は？","インドネシア","フィリピン","マレーシア",2,1,"https://upload.wikimedia.org/wikipedia/commons/9/99/Flag_of_the_Philippines.svg"];
      qa[9] = ["この国旗は？","オーストラリア","ニュージーランド","ケニア",1,1,"https://upload.wikimedia.org/wikipedia/commons/8/88/Flag_of_Australia_%28converted%29.svg"];

      qb = new Array();
      qb[0] = ["この国旗は？","ケニア","ミャンマー","オーストリア",1,1,"https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg"];
      qb[1] = ["この国旗は？","チュニジア","モロッコ","ナイジェリア",3,1,"https://upload.wikimedia.org/wikipedia/commons/7/79/Flag_of_Nigeria.svg"];
      qb[2] = ["この国旗は？","アンゴラ","南アフリカ","エチオピア",2,1,"https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg"];
      qb[3] = ["この国旗は？","サウジアラビア","イラク","イラン",2,1,"https://upload.wikimedia.org/wikipedia/commons/f/f6/Flag_of_Iraq.svg"];
      qb[4] = ["この国旗は？","ウズベキスタン","パキスタン","アフガニスタン",1,1,"https://upload.wikimedia.org/wikipedia/commons/8/84/Flag_of_Uzbekistan.svg"];
      qb[5] = ["この国旗は？","パプアニューギニア","ベトナム","ラオス",3,1,"https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg"];
      qb[6] = ["この国旗は？","チリ","パラグアイ","エクアドル",1,1,"https://upload.wikimedia.org/wikipedia/commons/7/78/Flag_of_Chile.svg"];
      qb[7] = ["この国旗は？","メキシコ","モンゴル","ギリシャ",2,1,"https://upload.wikimedia.org/wikipedia/commons/4/4c/Flag_of_Mongolia.svg"];
      qb[8] = ["この国旗は？","ハンガリー","スイス","ブルガリア",1,1,"https://upload.wikimedia.org/wikipedia/commons/c/c1/Flag_of_Hungary.svg"];
      qb[9] = ["この国旗は？","デンマーク","ポーランド","セネガル",2,1,"https://upload.wikimedia.org/wikipedia/commons/1/12/Flag_of_Poland.svg"];

      qc = new Array();
      qc[0] = ["日本代表ユニフォームのブランドは？","ナイキ","アディダス","アンブロ",2,0,""];
      qc[1] = ["ゴール数が最も多い国は？","フランス","イングランド","ベルギー",3,0,""];
      qc[2] = ["日本と一緒に通過したコロンビアのイングランド戦での結果は？","3-2","1-1","2-1",2,0,""];
      qc[3] = ["本田圭佑が下の名前を知らなかった選手は？","槙野智章","柴崎岳","昌子源",1,0,""];
      qc[4] = ["本田圭佑の背番号は？","4","7","11",1,0,""];
      qc[5] = ["今大会優勝国であるフランスは何年ぶりの優勝か？","16年","20年","24年",2,0,""];
      qc[6] = ["ドイツ代表を差別理由に引退宣言した選手は？","エジル","ミュラー","クロース",1,0,""];
      qc[7] = ["W杯時点での日本のFIFAランクは？","58位","61位","63位",2,0,""];
      qc[8] = ["写真の日本代表のユニフォームはいつの？","2002","2006","2010",2,1,"https://wing-auctions.c.yimg.jp/sim?furl=auctions.c.yimg.jp/images.auctions.yahoo.co.jp/image/dr000/auc0405/users/d5ba8d5eec789e321dc965fd5a4ba5f2ebd6ba7d/i-img600x600-1526301782f2mbgw344912.jpg&dc=1&sr.fs=20000"];
      qc[9] = ["2018年FIFAワールドカップのMVPは？","エムバペ","アザール","モドリッチ",3,0,""];

      q_sel = 3;
      q_max = 10;

      function shuffle(array) {
        var n = array.length, t, i;
        while (n) {
          i = Math.floor(Math.random() * n--);
          t = array[n];
          array[n] = array[i];
          array[i] = t;
        }
        return array;
      }

      function setReady() {
        count = 0;
        ansers = new Array();
        q = shuffle(q);
        quiz();
        document.getElementById("text_a").innerHTML = "";
      }

      function quiz() {
        var s, n, i;
        document.getElementById("text_q_num").innerHTML = "第" + (count + 1) + "問";
        document.getElementById("text_q").innerHTML = q[count][0];
        if (q[count][5] == 1) {
          i = '<img src=' + q[count][6] + ' alt="サンプル画像">';
          document.getElementById('image').innerHTML = i;
        } else {
          document.getElementById('image').innerHTML = "";
        }
        s = "";
        for (n=1; n<=q_sel; n++) {
          s += "<a href='javascript:anser(" + n + ")' class='square_btn'> " + q[count][n] + "</a>\n";
        }
        document.getElementById("text_s").innerHTML = s;
      }

      function anser(num) {
        var s;
        s = (count + 1) + "問目：";
        if (num == q[count][q_sel+1]) {
          ansers[count] = "○";
          s += ansers[count] + q[count][num];
        } else {
          ansers[count] = "×";
          s += ansers[count] + q[count][num];
          s += "<br>正解は..." + q[count][q[count][q_sel+1]];
        }
        document.getElementById("text_a").innerHTML = s;

        count++;
        if (count < q_max) {
          quiz();
        } else {
          s = "<table border='2' align='center'><caption>成績発表</caption>";
          s += "<tr><th>問題</th>";
          for (n=0; n<q.length; n++) {
            s += "<th>" + (n+1) + "</th>";
          }
          s += "</tr>";
          s += "<tr><th>成績</th>";
          for (n=0; n<q.length; n++) {
            s += "<td>" + ansers[n] + "</td>";
          }
          s += "</tr>";
          s += "</table>";
          document.getElementById("text_q").innerHTML = s;
          document.getElementById("image").innerHTML = "";
          document.getElementById("text_q_num").innerHTML = "";
          s = "";
	        s += "<a href='javascript:setReady(q)' class='square_btn'>もう一度</a>";
	        document.getElementById("text_s").innerHTML = s;
        }
      }
    </script>
  </body>
</html>
